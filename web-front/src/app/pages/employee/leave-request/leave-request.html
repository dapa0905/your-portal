<mat-card class="leave-card">
  <mat-card-header>
    <mat-card-title>유급 휴가 신청</mat-card-title>
    <mat-card-subtitle>연차 및 기타 휴가 신청서를 작성하여 제출합니다.</mat-card-subtitle>
  </mat-card-header>

  <mat-card-content>
    <form [formGroup]="leaveForm" (ngSubmit)="onSubmit()" class="leave-form">
      <mat-form-field appearance="outline" class="form-field-full">
        <mat-label>휴가 유형</mat-label>
        <mat-select formControlName="leaveType" required>
          <mat-option *ngFor="let type of leaveTypes" [value]="type.value">
            {{ type.viewValue }}
          </mat-option>
        </mat-select>
        <mat-error *ngIf="leaveForm.get('leaveType')?.hasError('required')">
          휴가 유형을 선택해주세요.
        </mat-error>
      </mat-form-field>

      <mat-form-field appearance="outline" class="form-field-half">
        <mat-label>시작일</mat-label>
        <input matInput [matDatepicker]="startDatePicker" formControlName="startDate" required />
        <mat-datepicker-toggle matSuffix [for]="startDatePicker"></mat-datepicker-toggle>
        <mat-datepicker #startDatePicker></mat-datepicker>
        <mat-error *ngIf="leaveForm.get('startDate')?.hasError('required')">
          시작일을 선택해주세요.
        </mat-error>
      </mat-form-field>

      <mat-form-field appearance="outline" class="form-field-half">
        <mat-label>종료일</mat-label>
        <input matInput [matDatepicker]="endDatePicker" formControlName="endDate" required />
        <mat-datepicker-toggle matSuffix [for]="endDatePicker"></mat-datepicker-toggle>
        <mat-datepicker #endDatePicker></mat-datepicker>
        <mat-error *ngIf="leaveForm.get('endDate')?.hasError('required')">
          종료일을 선택해주세요.
        </mat-error>
      </mat-form-field>

      <mat-form-field appearance="outline" class="form-field-full">
        <mat-label>휴가 사유 (필수)</mat-label>
        <textarea matInput formControlName="reason" rows="3" required></textarea>
        <mat-error *ngIf="leaveForm.get('reason')?.hasError('required')">
          상세 사유를 입력해주세요.
        </mat-error>
      </mat-form-field>

      <mat-form-field appearance="outline" class="form-field-full">
        <mat-label>참고 코멘트 (선택 사항)</mat-label>
        <textarea matInput formControlName="comments" rows="2"></textarea>
      </mat-form-field>
    </form>
  </mat-card-content>

  <mat-card-actions align="end">
    <button mat-raised-button color="primary" (click)="onSubmit()" [disabled]="leaveForm.invalid">
      <mat-icon>send</mat-icon> 신청서 제출
    </button>
  </mat-card-actions>
</mat-card>
