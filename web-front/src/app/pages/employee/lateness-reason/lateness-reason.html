<mat-card class="lateness-card">
  <mat-card-header>
    <mat-card-title>지각 사유서 작성</mat-card-title>
    <mat-card-subtitle>지각한 날짜와 시간을 기록하고 사유를 제출합니다.</mat-card-subtitle>
  </mat-card-header>

  <mat-card-content>
    <form [formGroup]="latenessForm" (ngSubmit)="onSubmit()" class="lateness-form">
      <mat-form-field appearance="outline" class="form-field-half">
        <mat-label>지각 일자</mat-label>
        <input
          matInput
          [matDatepicker]="latenessDatePicker"
          formControlName="latenessDate"
          required
        />
        <mat-datepicker-toggle matSuffix [for]="latenessDatePicker"></mat-datepicker-toggle>
        <mat-datepicker #latenessDatePicker></mat-datepicker>
        <mat-error *ngIf="latenessForm.get('latenessDate')?.hasError('required')">
          지각 일자를 선택해주세요.
        </mat-error>
      </mat-form-field>

      <mat-form-field appearance="outline" class="form-field-half">
        <mat-label>지각 시간 (HH:MM)</mat-label>
        <input
          matInput
          formControlName="latenessTime"
          type="time"
          placeholder="예: 09:15"
          required
        />
        <mat-error *ngIf="latenessForm.get('latenessTime')?.hasError('required')">
          지각 시간을 입력해주세요.
        </mat-error>
      </mat-form-field>

      <mat-form-field appearance="outline" class="form-field-full">
        <mat-label>지각 상세 사유 (필수)</mat-label>
        <textarea matInput formControlName="reason" rows="4" required></textarea>
        <mat-error *ngIf="latenessForm.get('reason')?.hasError('required')">
          상세 사유를 입력해주세요.
        </mat-error>
      </mat-form-field>
    </form>
  </mat-card-content>

  <mat-card-actions align="end">
    <button
      mat-raised-button
      color="primary"
      (click)="onSubmit()"
      [disabled]="latenessForm.invalid"
    >
      <mat-icon>assignment_late</mat-icon> 사유서 제출
    </button>
  </mat-card-actions>
</mat-card>
